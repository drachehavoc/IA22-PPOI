<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Teste</title>
  <style>
    body {
      background-color: black;
    }

    canvas {
      background-color: white;
    }
  </style>
</head>
<body>
  <canvas width="900" height="900"></canvas>

  <script>
    let x = 10
    let y = -10
    let cor = "red"
    const canvas = document.querySelector("canvas")
    const context = canvas.getContext("2d")
    

    function render() {
      context.clearRect(0, 0, canvas.width, canvas.height)

      context.fillStyle = cor
      context.fillRect(300, 5, 40, 40)

      context.fillStyle = "blue"
      context.fillRect(x, y, 20, 20)
      x++

      if (
        ((x    > 300 && x    < 340) && (y > 5 && y < 45)) ||
        ((x+20 > 300 && x+20 < 340) && (y > 5 && y < 45)) 
      ) {
        cor = "green"
      } else {
        cor = "red"
      }
    } 

    function mainLoop() {
      render()
      requestAnimationFrame(mainLoop)
    }

    requestAnimationFrame(mainLoop)
  </script>
</body>
</html>